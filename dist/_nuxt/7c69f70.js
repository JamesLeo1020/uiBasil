(window.webpackJsonp=window.webpackJsonp||[]).push([[44,22,25,33],{307:function(t,e,n){"use strict";var l=n(22),o=n(31),d=(n(73),n(93),n(12),n(1),n(151),function(){function t(){Object(l.a)(this,t),this.carts=[],this.indexer=[]}return Object(o.a)(t,[{key:"inCart",value:function(t){return this.indexer.includes(t)}},{key:"getCartPos",value:function(t){return this.indexer.indexOf(t)}},{key:"init",value:function(t){t?(this.carts=t,this.indexer=t.map((function(dt){return dt.id}))):console.error("no payload at add to cart")}},{key:"add",value:function(t){t?(this.carts.push(t),this.indexer.push(t.id)):console.error("no payload at add to cart")}},{key:"edit",value:function(t,e){if(t){if(this.carts.length<=0)return this.carts.push(t),void this.indexer.push(t.id);var n=this.indexer.indexOf(t.id);n>=0?(this.carts[n]=t,this.carts[n].qty=e?parseInt(t.qty)+parseInt(this.carts[n].qty):parseInt(t.qty)):(this.carts.push(t),this.indexer.push(t.id))}else console.error("no payload at add to cart")}},{key:"remove",value:function(t){var e=this;if(t)if(this.carts.length<=0)console.warn("no item in carts");else{var n=0,l=this.carts.filter((function(dt,i){return dt.id===t.id&&(n++,e.indexer.splice(i,1)),dt.id!==t.id||n>1}));this.carts=l}else console.error("no payload at add to cart")}},{key:"togle",value:function(t){var e=this;if(t){var n=0,l=this.carts.filter((function(dt,i){return dt.id===t.id&&(n++,e.indexer.splice(i,1)),dt.id!==t.id||n>1}));0===n?(this.carts.push(t),this.indexer.push(t.id)):this.carts=l}else console.error("no payload at add to cart")}},{key:"reset",value:function(){this.carts=[],this.indexer=[]}}]),t}());e.a=d},308:function(t,e,n){"use strict";n.r(e);var l={props:{isError:{default:!1,type:Boolean},isLoading:{default:!1,type:Boolean},isEmpty:{default:!1,type:Boolean}}},o=n(37),component=Object(o.a)(l,(function(t,e){var n=e._c;return e.props.isLoading?n("div",[e._t("loader")],2):n("div",[e.props.isError||e.props.isEmpty?n("div",[e.props.isError?n("div",[e._t("error")],2):e._e(),e._v(" "),e.props.isEmpty&&!e.props.isError?n("div",[e._t("empty")],2):e._e()]):n("div",[e._t("content")],2)])}),[],!0,null,null,null);e.default=component.exports},310:function(t,e,n){"use strict";n.r(e);var l={props:{label:{type:String,default:""},action:{type:String,default:""},noImage:{type:Boolean,default:!1}},data:function(){return{}}},o=n(37),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"d-flex flex-column"},[l("div",{staticClass:"text-center pt-4 mt-5 mb-4"},[t.noImage?t._e():l("img",{staticClass:"mb-3",staticStyle:{width:"13rem",opacity:".85"},attrs:{src:n(312)}}),t._v(" "),l("p",{staticClass:"mb-5 text-muted"},[t._v("\n      "+t._s(t.label)+"\n    ")]),t._v(" "),t.action?l("p",{staticClass:"link-icon p-2 small",on:{click:function(e){return t.$emit("action")}}},[t._v("\n      "+t._s(t.action)+"\n    ")]):t._e()])])}),[],!1,null,"fc662fd6",null);e.default=component.exports},311:function(t){t.exports=JSON.parse('{"varian":{"section":{"title":{"id":"Varian","eng":"Variant"},"initialize":{"varian":{"title":{"id":"Katalog punya varian?","eng":"Catalog has variant?"},"action":{"true":{"id":"Mempunyai varian","eng":"Have variant"},"false":{"id":"Tidak mempunyai varian","eng":"Has no variant"}}}},"status":{"active":{"id":"Aktif","eng":"Active"},"deactive":{"id":"Nonaktif","eng":"Deactive"}},"state":{"nodata":{"label":{"id":"Tidak ada data","eng":"No Data"},"action":{"id":"Tambah Varian?","eng":"Add Variant?"}},"error":{"label":{"id":"Tidak dapat mengambil data","eng":"Unable fetching data"},"action":{"id":"Coba Lagi","eng":"Retry"}}},"table":{"code":{"id":"Kode","eng":"Code"},"name":{"id":"Nama","eng":"Name"},"status":{"id":"Status","eng":"Status"},"sellable_stock":{"id":"Jumlah yg bisa dijual","eng":"sellable stock"},"price":{"id":"Harga","eng":"Price"}},"action":{"add":{"id":"Tambah Varian","eng":"Add Variant"},"edit":{"id":"Edit","eng":"Edit"},"delete":{"id":"Hapus","eng":"Delete"}}},"create":{"title":{"id":"Tambah Varian","eng":"Add Variant"},"field":{"code":{"id":"Kode","eng":"Code"},"name":{"id":"Nama","eng":"Name"},"status":{"id":"Aktifkan","eng":"Activate"},"sellable_stock":{"id":"Jumlah yg bisa dijual","eng":"sellable stock"},"set_sellable_stock":{"id":"Set Jumlah","eng":"Set Amount"},"price":{"id":"Nominal yg bisa dijual","eng":"Nominal can be sold"}},"action":{"check":{"id":"Cek Kode","eng":"Check Code"},"save":{"id":"Tambah Varian","eng":"Add Variant"},"cancel":{"id":"Batal","eng":"Cancel"}}},"edit":{"title":{"id":"Ubah Varian","eng":"Edit Variant"},"field":{"code":{"id":"Kode","eng":"Code"},"name":{"id":"Nama","eng":"Name"},"status":{"id":"Aktifkan","eng":"Activate"},"sellable_stock":{"id":"Jumlah yg bisa dijual","eng":"sellable stock"},"set_sellable_stock":{"id":"Set Jumlah","eng":"Set Amount"},"price":{"id":"Nominal yg bisa dijual","eng":"Nominal can be sold"}},"action":{"check":{"id":"Cek Kode","eng":"Check Code"},"save":{"id":"Tambah Varian","eng":"Add Variant"},"cancel":{"id":"Batal","eng":"Cancel"}}},"delete":{"title":{"id":"Hapus Varian","eng":"Delete Variant"},"subtitle":{"id":"Yakin ingin menghapus?","eng":"Are you sure to delete?"},"action":{"delete":{"id":"Hapus Varian","eng":"Delete Variant"},"cancel":{"id":"Batal","eng":"Cancel"}}}},"addon":{"section":{"title":{"id":"Tambahan","eng":"addons"},"initialize":{"addon":{"title":{"id":"Katalog punya tambahan?","eng":"Catalog has addon?"},"action":{"true":{"id":"Mempunyai tambahan","eng":"Have addon"},"false":{"id":"Tidak mempunyai tambahan","eng":"Has no addon"}}}},"state":{"nodata":{"label":{"id":"Tidak ada data","eng":"No Data"},"action":{"id":"Tambah Tambahan?","eng":"Add Addon?"}},"error":{"label":{"id":"Tidak dapat mengambil data","eng":"Unable fetching data"},"action":{"id":"Coba Lagi","eng":"Retry"}}},"table":{"code":{"id":"Kode","eng":"Code"},"name":{"id":"Nama","eng":"Name"},"price":{"id":"Harga","eng":"Price"}},"action":{"add":{"id":"Tambah Tambahan","eng":"Add Addon"},"edit":{"id":"Edit","eng":"Edit"},"delete":{"id":"Hapus","eng":"Delete"}}},"create":{"title":{"id":"Tambah Tambahan","eng":"Add Addon"},"field":{"catalog":{"id":"Katalog","eng":"Catalog"},"price":{"id":"Nominal yg bisa dijual","eng":"Nominal can be sold"}},"action":{"save":{"id":"Tambah Tambahan","eng":"Add Addon"},"cancel":{"id":"Batal","eng":"Cancel"}}},"delete":{"title":{"id":"Hapus Tambahan","eng":"Delete Addon"},"subtitle":{"id":"Yakin ingin menghapus?","eng":"Are you sure to delete?"},"action":{"delete":{"id":"Hapus Tambahan","eng":"Delete Addon"},"cancel":{"id":"Batal","eng":"Cancel"}}}},"galleries":{"section":{"title":{"id":"Galeri","eng":"Gallery"},"initialize":{"galleries":{"title":{"id":"Katalog punya gambar?","eng":"Catalog has image?"},"action":{"true":{"id":"Mempunyai gambar","eng":"Have image"},"false":{"id":"Tidak mempunyai gambar","eng":"Has no image"}}},"varian":{"title":{"id":"Gambar diatur di global atau di varian?","eng":"Image set in global or in variant?"},"action":{"true":{"id":"Global","eng":"Global"},"false":{"id":"Varian","eng":"Variant"}}}},"state":{"nodata":{"label":{"id":"Tidak ada data","eng":"No Data"},"action":{"id":"Tambah Gambar?","eng":"Add Image?"}},"error":{"label":{"id":"Tidak dapat mengambil data","eng":"Unable fetching data"},"action":{"id":"Coba Lagi","eng":"Retry"}}},"table":{"varian":{"id":"Varian","eng":"Variant"},"image":{"id":"Gambar","eng":"Image"},"help":{"id":"Maksimal 2 gambar di galeri varian","eng":"Maximum 2 images in the variant gallery"}},"action":{"add":{"id":"Tambah Gambar","eng":"Add Image"},"delete":{"id":"Hapus","eng":"Delete"}}},"create":{"title":{"id":"Tambah Gambar","eng":"Add Image"},"field":{"title":{"id":"Judul","eng":"Title"},"url":{"id":"Link","eng":"Link"}},"action":{"save":{"id":"Tambah Gambar","eng":"Add Image"},"cancel":{"id":"Batal","eng":"Cancel"}}},"delete":{"title":{"id":"Hapus Gambar","eng":"Delete Image"},"subtitle":{"id":"Yakin ingin menghapus?","eng":"Are you sure to delete?"},"action":{"delete":{"id":"Hapus Gambar","eng":"Delete Image"},"cancel":{"id":"Batal","eng":"Cancel"}}}}}')},312:function(t,e,n){t.exports=n.p+"img/empty.2a07bed.svg"},329:function(t,e,n){"use strict";e.a={title:null,form:null,size:null,data:null,modalSet:function(t,e){var n=this;n.title=e.title,n.form=e.form,n.size=e.size,n.data=e.data},modalOpen:function(t,e,n,l){t.$refs[e].show()},modalClose:function(t,e,n,l){t.$refs[e].hide()},modalReset:function(t,e){},modalSave:function(t,data,e,n){}}},338:function(t,e,n){"use strict";n.r(e);var l={props:{defaultInput:{type:Object,default:function(){return{}}},id:{type:String,default:null},data:{type:Object,default:function(){return{}}}},data:function(){return{lang:this.$store.getters["app/getLanguage"],gvm:this,image:null,input:{image_url:null},selectOptions:{product:[]},labelPage:n(303).catalog.create.galleries.create}},watch:{defaultInput:function(t,e){e&&this.setInput()}},mounted:function(){this.init(),console.log("check default input",this.defaultInput)},methods:{init:function(){this.setInput()},save:function(){var t=this;console.log("check input",t.input),t.$emit("SAVE",t.input)},cancel:function(){this.$emit("CANCEL")},onCheck:function(){},setInput:function(){var t=this;t.defaultInput&&(t.input=t.defaultInput)}}},o=n(37),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[n("div",{staticClass:"row mb-2"},[n("div",{staticClass:"col-4"},[n("label",{staticClass:"col-form-label"},[t._v(t._s(t.labelPage.field.title[t.lang]))])]),t._v(" "),n("div",{staticClass:"col-8"},[n("b-form-input",{attrs:{placeholder:t.labelPage.field.title[t.lang]},model:{value:t.input.caption,callback:function(e){t.$set(t.input,"caption",e)},expression:"input.caption"}})],1)]),t._v(" "),n("div",{staticClass:"row mb-2"},[n("div",{staticClass:"col-4"},[n("label",{staticClass:"col-form-label"},[t._v(t._s(t.labelPage.field.image[t.lang]))])]),t._v(" "),n("div",{staticClass:"col-8"},[n("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}})],1)]),t._v(" "),n("div",{staticClass:"row border-top pt-3"},[n("div",{staticClass:"col"},[n("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.save()}}},[t._v("\n          "+t._s((t.defaultInput&&t.defaultInput.id&&t.defaultInput.id,t.labelPage.action.save[t.lang]))+"\n        ")]),t._v(" "),n("b-button",{staticClass:"float-right mr-2",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.cancel()}}},[t._v("\n          "+t._s(t.labelPage.action.cancel[t.lang])+"\n        ")])],1)])])],1)}),[],!1,null,null,null);e.default=component.exports},354:function(t,e,n){"use strict";n.r(e);var l=n(307),o=n(329),d=n(310),r=n(308),c=n(338),m={components:{layoutEmpty:d.default,layoutManager:r.default,compFormGallery:c.default},props:{gallery:{default:function(){return[]},type:Array}},data:function(){return{lang:this.$store.getters["app/getLanguage"],gvm:this,galleryIsLoading:!1,galleryIsError:!1,galleryIsEmpty:!1,selected:[],isSelectedAll:!1,isSelecting:!1,selectAction:null,labelComponent:n(311).galleries,functionFormModal:o.a,functionCart:new l.a}},mounted:function(){this.init()},methods:{init:function(){this.initData(),this.functionCart.carts.length&&(this.galleryIsLoading=!1,this.galleryIsEmpty=!1)},initData:function(){if(this.gallery.length){for(var i in this.gallery)this.functionCart.add({id:i,image_url:this.gallery[i].image_url,varian_code:null});var param={key:"gallery",data:this.functionCart.carts};this.$store.commit("temp/setData",param)}},setDataModal:function(param){var t=this,e={title:t.labelComponent.create.title[t.lang],data:param||null};t.functionFormModal.modalSet(t,e),t.functionFormModal.modalOpen(t,"modalFormComponent")},setTodata:function(param){var t=this;param.id=Math.floor(100*Math.random()),t.functionCart.carts.length&&t.functionCart.remove(param),t.functionCart.add(param),t.$store.commit("temp/popData","gallery"),t.$store.commit("temp/setData",{key:"gallery",data:t.functionCart.carts})},handleButtonAdd:function(){this.setDataModal()},handleButtonDelete:function(param){var t,e;e=param,(t=this).$bvModal.msgBoxConfirm(t.labelComponent.delete.subtitle[t.lang],{title:t.labelComponent.delete.title[t.lang],size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:t.labelComponent.delete.action.delete[t.lang],cancelTitle:t.labelComponent.delete.action.cancel[t.lang],footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(n){n&&(t.functionCart.remove(e),t.$store.commit("temp/popData","gallery"),t.$store.commit("temp/setData",{key:"gallery",data:t.functionCart.carts}))}))},handleMenuVarian:function(param,data){switch(param){case"edit":data.id=data.code,this.setDataModal(data);break;case"delete":e=data,(t=this).$bvModal.msgBoxConfirm(t.labelComponent.delete.subtitle[t.lang],{title:t.labelComponent.delete.title[t.lang],size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:t.labelComponent.delete.action.delete[t.lang],cancelTitle:t.labelComponent.delete.action.cancel[t.lang],footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(n){n&&(t.functionCart.remove(e),t.$store.commit("temp/popData","gallery"),t.$store.commit("temp/setData",{key:"gallery",data:t.functionCart.carts}))}))}var t,e},handleModalSave:function(param){this.setTodata(param),this.functionFormModal.modalClose(this,"modalFormComponent"),this.$emit("updated")},handleModalCancel:function(){this.functionFormModal.modalClose(this,"modalFormComponent")}}},f=n(37),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row align-items-center mb-2"},[n("div",{staticClass:"col"},[n("label",{staticClass:"col-form-label text-muted"},[n("strong",{staticClass:"text-capitalize"},[t._v(t._s(t.labelComponent.section.title[t.lang])),n("br")])])]),t._v(" "),n("div",{staticClass:"col text-right"},[n("button",{staticClass:"btn btn-link btn-sm",attrs:{type:"button"},on:{click:function(e){return t.handleButtonAdd()}}},[t._v("\n        "+t._s(t.labelComponent.section.action.add[t.lang])+"\n      ")])])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 mb-4"},[n("layoutManager",{staticClass:"w-100",attrs:{"is-loading":!1,"is-error":!1,"is-empty":t.galleryIsEmpty},scopedSlots:t._u([{key:"loader",fn:function(){return t._l(5,(function(t,i){return n("b-skeleton",{key:i,staticClass:"mt-2",attrs:{height:"51px","no-aspect":"true"}})}))},proxy:!0},{key:"empty",fn:function(){return[n("layoutEmpty",{attrs:{label:t.labelComponent.section.state.nodata.label[t.lang],action:t.labelComponent.section.state.nodata.action[t.lang],"no-image":""},on:{action:function(e){return t.handleButtonAdd()}}})]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"row mb-5 pb-3"},[t._l(t.functionCart.carts,(function(e,l){return[n("div",{key:"galeri-"+l,staticClass:"col-3"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col text-center"},[n("img",{staticClass:"img-fluid",attrs:{loading:"lazy",src:e.url?e.url:"https://www.malangculinary.com/upload/img_15944486022.jpg"}})])]),t._v(" "),n("div",{staticClass:"row align-items-center"},[n("div",{staticClass:"col align-self-center"},[n("p",{staticClass:"label mb-0"},[t._v("\n                      "+t._s(e.title)+"\n                    ")])]),t._v(" "),n("div",{staticClass:"col text-right"},[n("button",{staticClass:"btn btn-link btn-sm text-danger p-0 m-0 ml-auto",attrs:{type:"button"},on:{click:function(n){return t.handleButtonDelete(e)}}},[t._v("\n                      "+t._s(t.labelComponent.section.action.delete[t.lang])+"\n                    ")])])])])]}))],2)]},proxy:!0}])})],1)]),t._v(" "),n("b-modal",{ref:"modalFormComponent",attrs:{title:t.functionFormModal.title,size:t.functionFormModal.size,"hide-footer":""}},[n("compFormGallery",{attrs:{"default-input":t.functionFormModal.data},on:{SAVE:function(param){t.handleModalSave(param)},CANCEL:function(e){return t.handleModalCancel()}}})],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);