(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{309:function(t,e,l){"use strict";l.r(e);l(222);var n=l(306),o={components:{},props:{isLoading:{default:!1,type:Boolean},stats:{default:function(){return{}},type:Object},totalSelected:{default:0,type:Number},currentPage:{default:1,type:Number},isSelecting:{default:!1,type:Boolean},isShowSelectBox:{default:!1,type:Boolean},isShowEditingState:{default:!1,type:Boolean}},data:function(){return{lang:this.$store.getters["app/getLanguage"],labelGeneral:l(150),dropMenu:l(302).catalog}},methods:{formatNumber:n.a}},r=l(37),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row mx-0 h-100"},[t.isShowSelectBox?n("div",{staticClass:"col py-2 pl-0 pr-1 d-flex align-items-left align-items-center"},[n("div",{staticClass:"form-check align-self-center pl-0"},[n("div",{staticClass:"row mx-0 select-group",on:{click:function(e){return t.$emit("select",!t.isSelecting)}}},[n("div",{staticClass:"check d-flex pl-2"},[n("img",{directives:[{name:"show",rawName:"v-show",value:!t.isSelecting,expression:"!isSelecting"}],attrs:{src:l(304),width:"13"}}),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:t.isSelecting,expression:"isSelecting"}],attrs:{src:l(305),width:"13"}})]),t._v(" "),n("div",{staticClass:"col-auto py-3"},[n("p",{staticClass:"mb-0 minititle"},[t._v("\n            "+t._s(t.labelGeneral.editall[t.lang])+"\n          ")])])])])]):t._e(),t._v(" "),t.isShowEditingState?n("div",{staticClass:"col p-2 px-1 d-flex align-items-center justify-content-center"},[n("p",{staticClass:"mb-0 description text-left"},[t._v("\n      "+t._s(t.stats.editing_state)+"\n    ")])]):t._e(),t._v(" "),n("div",{staticClass:"col py-2 pl-1 pr-0 d-flex align-items-center justify-content-end"},[t._t("action")],2)])}),[],!1,null,null,null);e.default=component.exports},380:function(t,e,l){"use strict";l.r(e);l(4),l(3),l(1),l(5),l(2),l(6);var n=l(0),o=(l(32),l(19),l(151),l(152)),r=l(307),c=l(319),d=l(309),m=l(324),f=l(325),filter=l(326);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(object);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,l)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C={components:{compBottomMenuContentSelected:c.default,compBottomMenuContentForm:d.default},mixins:[m.a,f.a,Object(filter.a)(l(315).catalog)],beforeRouteLeave:function(t,e,l){this.vmCatalogFetch.cancel(),l()},layout:"dashboard",data:function(){return{lang:this.$store.getters["app/getLanguage"],gvm:this,jumpToQuery:null,jumpToTarget:null,isForm:!1,isEditing:!0,input:[],isSelectedAll:!1,checkAll:!1,selected:[],selectedAll:!1,isSelecting:!0,selectAction:"delete",labelPage:l(303).catalog.delete,labelGeneral:l(150),dropMenu:l(302).catalog,functionCart:new r.a,modalComponent:{title:null,size:null,component:null,type:null,defaultInput:null,key:0}}},computed:{},watch:{jumpToTarget:function(t){var e=this;if(this.jumpToTarget)var l=setTimeout((function(){e.jumpToTarget=null,clearTimeout(l)}),400)}},mounted:function(){console.log("count",this.functionCart.carts)},methods:v(v({},o.a),{},{init:function(){this.handleMenuTitle("delete"),this.fetchCatalog(),this.handleProps()},scrollTo:function(t){var e=this.$el.querySelector("."+t);this.jumpToTarget=t;var l=this.$el.querySelector("#multi-content"),n=e.offsetTop-l.scrollHeight,o=l.scrollHeight-l.clientHeight;l.scrollHeight+n===53?l.scrollTop=0:l.scrollTop=(e.offsetTop-53+e.clientHeight)/l.scrollHeight*o},handleProcess:function(){var t=this;if(t.functionCart.indexer.length&&t.catalogDatas&&t.catalogDatas){var e=[];for(var i in t.functionCart.indexer)e.push({id:t.catalogDatas[i].id,code:t.catalogDatas[i].code,name:t.catalogDatas[i].name,price:t.catalogDatas[i].price});t.input=e}this.isForm=!0},handleSubmit:function(){var t=this;t.$bvModal.msgBoxConfirm("Anda akan menghapus "+t.functionCart.carts.length+" Katalog?",{title:"Konfirmasi",size:"sm",buttonSize:"sm",okVariant:"primary",okTitle:"Hapus Katalog",cancelvariant:"outline-primary",cancelTitle:"Tidak",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){e&&console.log("check input",t.input)}))},handleCancelSelection:function(){this.isForm=!1,this.functionCart.reset(),this.selected=[]},handleremove:function(dt){console.log("check dt",dt);var t=this;t.$bvModal.msgBoxConfirm("Yakin ingin menghapus data ini dari list?",{title:"Konfirmasi",size:"sm",buttonSize:"sm",okVariant:"primary",okTitle:"Ya, Hapus",cancelvariant:"outline-primary",cancelTitle:"Tidak",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){if(e){var l=dt;t.input.splice(l,1),t.functionCart.remove({id:l})}}))},handleProps:function(){var t=this,dt=t.$store.getters["temp/getData"]("delete"),e=[];if(console.log("check dt",dt),dt){for(var i in dt)e.push({id:dt[i].id,code:dt[i].code,name:dt[i].name,price:dt[i].price});t.selected=t.functionCart.indexer,t.input=e,t.isForm=!0}},handleEditing:function(dt){dt&&(this.isEditing=!0)},handleListClick:function(param){var t=this;this.isSelecting?(this.functionCart.togle({id:param}),t.$nextTick((function(){t.selected=t.functionCart.indexer})),t.functionCart.carts.length===t.catalogDatas.length?t.isSelectedAll=!0:t.isSelectedAll=!1):this.navigateTo(this,"/dashboard/catalog/detail#".concat(this.catalogDatas[param].id),!0)},handleSelected:function(param){var t=this;t.functionCart.carts.length===t.catalogDatas.length?t.isSelectedAll=!0:t.isSelectedAll=!1,t.functionCart.togle({id:param}),t.$nextTick((function(){t.selected=t.functionCart.indexer}))},handleSelectAll:function(param){var t=this,dt=t.catalogDatas;if(param){for(var i in dt)!1===t.functionCart.inCart(parseInt(i))&&t.functionCart.add({id:parseInt(i)});t.selected=t.functionCart.indexer,t.isSelectedAll=!0}else t.functionCart.reset(),t.selected=[],t.isSelectedAll=!1},handleMenuTitle:function(param){switch(param){case"refresh":this.fetchCatalog();break;case"detail":this.selectAction=null,this.isSelecting=!1;break;default:this.selectAction=param,this.isSelecting=!0}},handleMenu:function(param){switch(param){case"edit":case"delete":case"active":case"deactive":this.isEditing=!0}},handlePageChanged:function(dt){this.catalogCurrentPage=dt,this.fetchCatalog()}})},y=l(37),component=Object(y.a)(C,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("div",{staticClass:"row mx-0 mb-5 pb-4"},[l("div",{staticClass:"col px-3"},[t.isForm?t._e():l("div",{staticClass:"row py-2 mt-4 mb-3"},[l("div",{staticClass:"col"},[l("p",{staticClass:"title mb-0"},[t._v("\n            "+t._s(t.labelPage.title[t.lang])+"\n          ")]),t._v(" "),l("ol",{staticClass:"breadcrumb"},[t._m(0),t._v(" "),t._m(1),t._v(" "),l("li",{staticClass:"breadcrumb-item"},[l("a",{staticClass:"active",attrs:{href:"#"}},[l("span",[t._v(t._s(t.labelPage.title[t.lang]))])])])])])]),t._v(" "),t.isForm?[l("div",{staticClass:"row mx-0 align-items-stretch"},[l("div",{staticClass:"jump-menu pr-3 pl-2"},[l("div",{staticClass:"content bg-white p-3"},[l("div",{staticClass:"row mb-1"},[l("div",{staticClass:"col mb-3"},[l("label",{attrs:{for:""}},[l("strong",[t._v(t._s(t.labelPage.menu.jumpto.title[t.lang]))])])])]),t._v(" "),l("div",{staticClass:"row mb-3"},[l("div",{staticClass:"col px-2"},[l("compSearchbar",{staticClass:"searchbar",attrs:{placeholder:t.labelPage.menu.jumpto.search[t.lang],direction:"all"},on:{search:function(dt){t.jumpToQuery=dt}}})],1)]),t._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:!t.jumpToQuery||t.labelPage.field.code[t.lang].toLowerCase().includes(t.jumpToQuery.toLowerCase()),expression:"!jumpToQuery || labelPage.field.code[lang].toLowerCase().includes(jumpToQuery.toLowerCase())"}],staticClass:"row"},[l("div",{staticClass:"col py-2 clickable",on:{click:function(e){return t.scrollTo("input-section-code")}}},[l("p",{staticClass:"mb-0 minititle"},[t._v("\n                    "+t._s(t.labelPage.field.code[t.lang])+"\n                  ")])])]),t._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:!t.jumpToQuery||t.labelPage.field.price[t.lang].toLowerCase().includes(t.jumpToQuery.toLowerCase()),expression:"!jumpToQuery || labelPage.field.price[lang].toLowerCase().includes(jumpToQuery.toLowerCase())"}],staticClass:"row"},[l("div",{staticClass:"col py-2 clickable",on:{click:function(e){return t.scrollTo("input-section-price")}}},[l("p",{staticClass:"mb-0 minititle"},[t._v("\n                    "+t._s(t.labelPage.field.price[t.lang])+"\n                  ")])])])])]),t._v(" "),l("div",{staticClass:"col pl-0 form-multiple-wrapper scroll",attrs:{id:"multi-content"}},[l("div",{staticClass:"form-multiple-content multi-input"},[l("div",{staticClass:"top"},t._l(t.input,(function(e,n){return l("div",{key:"ft-"+n,staticClass:"content bg-white pt-3 row mx-0 align-items-center"},[l("div",{staticClass:"col"},[l("p",{staticClass:"clickable small description round no-border mb-0 text-danger float-right",on:{click:function(e){return t.handleremove(n)}}},[t._v("\n                      Hapus\n                    ")]),t._v(" "),l("p",{staticClass:"small description mb-0"},[t._v("\n                      Katalog "+t._s(n+1)+"\n                    ")]),t._v(" "),l("p",{staticClass:"minititle mb-1"},[l("strong",[t._v("\n                        "+t._s(e.name)+"\n                      ")])])])])})),0),t._v(" "),t._l(t.input,(function(e,n){return l("div",{key:"form-"+n,staticClass:"content d-inline-block px-3"},[l("div",{staticClass:"row input-section-code"},[l("div",{class:"col pb-3 fillable "+("input-section-code"===t.jumpToTarget?"active":"")},[l("hr",{staticClass:"mt-0 mb-2"}),t._v(" "),l("label",[t._v(t._s(t.labelPage.field.code[t.lang]))]),t._v(" "),l("b-form-input",{key:"code-"+n,attrs:{placeholder:t.labelPage.field.code[t.lang],disabled:"",lazy:""},model:{value:e.code,callback:function(l){t.$set(e,"code",l)},expression:"_dt.code"}})],1)]),t._v(" "),l("div",{staticClass:"row input-section-price"},[l("div",{class:"col pb-3 fillable "+("input-section-price"===t.jumpToTarget?"active":"")},[l("hr",{staticClass:"mt-0 mb-2"}),t._v(" "),l("label",{attrs:{for:""}},[t._v(t._s(t.labelPage.field.price[t.lang]))]),t._v(" "),l("b-form-input",{key:"price-"+n,attrs:{type:"number",min:"0",placeholder:"0",disabled:""},model:{value:e.price,callback:function(l){t.$set(e,"price",l)},expression:"_dt.price"}})],1)])])}))],2)])])]:[l("div",{staticClass:"row sticky-top-upper"},[l("div",{staticClass:"col px-2"},[l("div",{staticClass:"row mx-0 mt-2 pt-1 pb-2 round top bottom",style:{"background-color":t.stickyTopMenuClass}},[l("div",{staticClass:"col pl-2"},[l("div",{staticClass:"row mx-0 pb-3"},[l("div",{staticClass:"filter-wrapper flex-grow-1 align-items-start flex-row"},[l("compSearchbar",{staticClass:"searchbar",attrs:{placeholder:t.labelPage.filter.search[t.lang],direction:"all"}}),t._v(" "),t._l(t.filter,(function(dt,i){return l("compFilterDisplay",{key:i,attrs:{"wrapper-class":"ml-2 filterDisplay",data:{value:dt,prototype:t.filterStructure.filter[t.filterIndex[i]].prototype,options:t.filterStructure.filter[t.filterIndex[i]].options}},on:{open:function(e){return t.openFilter(t.filterIndex[i])},clear:t.handleClearFilter}})}))],2)])]),t._v(" "),l("div",{staticClass:"col-auto pr-2 filter-buttons pl-0"},[l("compFilterButton",{attrs:{menu:t.filterStructure},on:{filterTrigger:t.openFilter,sortTrigger:t.handleSort}})],1)])])]),t._v(" "),l("div",{staticClass:"row"},[l("div",{staticClass:"col-12 mb-4"},[l("layoutList",{attrs:{"is-loading":t.catalogIsLoading,"is-error":t.catalogIsError,"is-empty":t.catalogIsEmpty},scopedSlots:t._u([{key:"title",fn:function(){return[l("compListHeader",{attrs:{"is-selected":t.isSelectedAll,"is-show-select-box":t.isSelecting},on:{select:function(param){return t.handleSelectAll(param)},menuClicked:t.handleMenuTitle}})]},proxy:!0},{key:"loader",fn:function(){return t._l(5,(function(t,i){return l("b-skeleton",{key:i,staticClass:"mt-2",attrs:{height:"51px","no-aspect":"true"}})}))},proxy:!0},{key:"error",fn:function(){return[l("layoutError",{attrs:{label:t.labelPage.state.error.label[t.lang],action:t.labelPage.state.error.action[t.lang]},on:{action:function(e){return t.fetchCatalog()}}})]},proxy:!0},{key:"empty",fn:function(){return[l("layoutEmpty",{attrs:{label:t.labelPage.state.nodata.label[t.lang],action:t.labelPage.state.nodata.action[t.lang]},on:{action:function(e){return t.navigateTo(t.gvm,"/dashboard/catalog/create",!0)}}})]},proxy:!0},{key:"content",fn:function(){return t._l(t.catalogDatas,(function(e,n){return l("compListItem",{key:"cat"+n,attrs:{catalog:e,index:n,"is-selected":t.functionCart.inCart(n),"is-selecting":t.isSelecting},on:{click:function(e){return t.handleListClick(n)}}})}))},proxy:!0}],null,!1,3239978609)})],1)])]],2)]),t._v(" "),l("compBottomMenu",{attrs:{size:"large"}},[l("compBottomMenuContentSelected",{directives:[{name:"show",rawName:"v-show",value:!t.isForm,expression:"!isForm"}],attrs:{"is-loading":t.catalogIsLoading,"total-selected":t.functionCart.carts.length,"current-page":t.catalogCurrentPage,"is-selecting":t.isSelecting,"total-data":t.vmCatalogFetch.totalData,"total-page":t.vmCatalogFetch.totalPage},on:{pageChanged:t.handlePageChanged},scopedSlots:t._u([{key:"action",fn:function(){return[t.isSelecting?l("button",{staticClass:"btn btn-danger btn-sm",attrs:{disabled:0===t.functionCart.carts.length,type:"button"},on:{click:t.handleProcess}},[t._v("\n          "+t._s(t.dropMenu.indexTitle[t.selectAction][t.lang])+"\n        ")]):t._e()]},proxy:!0}])}),t._v(" "),l("compBottomMenuContentForm",{directives:[{name:"show",rawName:"v-show",value:t.isForm,expression:"isForm"}],scopedSlots:t._u([{key:"action",fn:function(){return[l("button",{staticClass:"btn btn-outline-primary btn-sm mr-2",attrs:{type:"button"},on:{click:t.handleCancelSelection}},[t._v("\n          "+t._s(t.labelGeneral.cancel[t.lang])+"\n        ")]),t._v(" "),l("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:t.handleSubmit}},[t._v("\n          "+t._s(t.dropMenu.indexTitle[t.selectAction][t.lang])+"\n        ")])]},proxy:!0}])})],1),t._v(" "),l("b-modal",{ref:"modalFormComponent",attrs:{title:t.modalComponent.title,size:t.modalComponent.size,"hide-footer":""}},[t.modalComponent.component&&t.modalComponent.key>0?l(t.modalComponent.component,{tag:"component",attrs:{"default-input":t.modalComponent.defaultInput},on:{SAVE:function(param){t.save(t.modalComponent.type,param)},CANCEL:function(e){return t.cancel(t.modalComponent.type)}}}):t._e()],1),t._v(" "),l("compModalFilterCheck",{ref:"modal-filter-group",attrs:{options:t.vmCatalogFetch.filters?t.vmCatalogFetch.filters.group:[],structure:t.filterStructure.filter.group,"with-searchbar":!0},on:{applied:function(dt){return t.handleFilterApplied(dt,"group")}}}),t._v(" "),l("compModalFilterSelect",{ref:"modal-filter-status",attrs:{options:t.filterStructure.filter.status.options.value,"with-searchbar":!1,structure:t.filterStructure.filter.status},on:{applied:function(dt){return t.handleFilterApplied(dt,"status")}}}),t._v(" "),l("compModalFilterNumberRange",{ref:"modal-filter-price",attrs:{structure:t.filterStructure.filter.price},on:{applied:function(dt){return t.handleFilterApplied(dt,"price")}}})],1)}),[function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("li",{staticClass:"breadcrumb-item"},[l("a",{staticClass:"text-hover",attrs:{href:"#"}},[l("span",[t._v("Beranda")])])])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("li",{staticClass:"breadcrumb-item"},[l("a",{staticClass:"text-hover",attrs:{href:"#"}},[l("span",[t._v("Katalog")])])])}],!1,null,"7df5b036",null);e.default=component.exports}}]);