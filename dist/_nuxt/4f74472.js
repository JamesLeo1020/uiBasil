(window.webpackJsonp=window.webpackJsonp||[]).push([[48,7],{309:function(t,e,l){"use strict";l.r(e);l(222);var n=l(306),o={components:{},props:{isLoading:{default:!1,type:Boolean},stats:{default:function(){return{}},type:Object},totalSelected:{default:0,type:Number},currentPage:{default:1,type:Number},isSelecting:{default:!1,type:Boolean},isShowSelectBox:{default:!1,type:Boolean},isShowEditingState:{default:!1,type:Boolean}},data:function(){return{lang:this.$store.getters["app/getLanguage"],labelGeneral:l(150),dropMenu:l(302).catalog}},methods:{formatNumber:n.a}},c=l(37),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row mx-0 h-100"},[t.isShowSelectBox?n("div",{staticClass:"col py-2 pl-0 pr-1 d-flex align-items-left align-items-center"},[n("div",{staticClass:"form-check align-self-center pl-0"},[n("div",{staticClass:"row mx-0 select-group",on:{click:function(e){return t.$emit("select",!t.isSelecting)}}},[n("div",{staticClass:"check d-flex pl-2"},[n("img",{directives:[{name:"show",rawName:"v-show",value:!t.isSelecting,expression:"!isSelecting"}],attrs:{src:l(304),width:"13"}}),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:t.isSelecting,expression:"isSelecting"}],attrs:{src:l(305),width:"13"}})]),t._v(" "),n("div",{staticClass:"col-auto py-3"},[n("p",{staticClass:"mb-0 minititle"},[t._v("\n            "+t._s(t.labelGeneral.editall[t.lang])+"\n          ")])])])])]):t._e(),t._v(" "),t.isShowEditingState?n("div",{staticClass:"col p-2 px-1 d-flex align-items-center justify-content-center"},[n("p",{staticClass:"mb-0 description text-left"},[t._v("\n      "+t._s(t.stats.editing_state)+"\n    ")])]):t._e(),t._v(" "),n("div",{staticClass:"col py-2 pl-1 pr-0 d-flex align-items-center justify-content-end"},[t._t("action")],2)])}),[],!1,null,null,null);e.default=component.exports},327:function(t,e,l){"use strict";l.r(e);var n={props:{size:{default:"",type:String}}},o=l(37),component=Object(o.a)(n,(function(t,e){var l=e._c;return l("div",{staticClass:"content-menu-bottom px-2 pb-2",attrs:{id:"bottom-menu"}},[l("div",{class:"row mx-0 px-1 content "+e.props.size},[l("div",{staticClass:"col px-1 w-100"},[e._t("default")],2)])])}),[],!0,null,"17bb7b66",null);e.default=component.exports},372:function(t,e,l){"use strict";l.r(e);l(4),l(1),l(5),l(2),l(6);var n=l(0),o=(l(19),l(3),l(55),l(152)),c=l(307),r=(l(10),l(64)),d=l(92),m={request:function(t){return console.log("check payload",t),d.a.post({api:"".concat(r.url).concat(r.endpoints.catalog_create),token:t.token,params:t.params})}},section=l(355),v=l(316),f=l(356),h=l(357),_=l(354),y=l(363),C=l(327),w=l(309),k={props:{defaultInput:{type:Object,default:function(){return{}}},id:{type:String,default:null},data:{type:Object,default:function(){return{}}},withoutAction:{type:Boolean,default:!1}},data:function(){return{lang:this.$store.getters["app/getLanguage"],gvm:this,isGlobalPrice:!1,input:{sellable_stock:{setting:null,qty:0},group:null,is_active:"1"},selectOptions:{groups:["chocolate","coffee","extra","food","seasonal","tea"],sellable:["manual","unlimited"]},labelPage:l(303).catalog.create,status:l(314)}},watch:{isGlobalPrice:function(t){},defaultInput:function(t,e){e&&this.setInput()},input:function(t){this.$emit("updated",t)}},mounted:function(){console.log("check default input",this.defaultInput),this.init()},methods:{init:function(){this.setInput()},addTag:function(t){console.log("check newtag",t);var e=t.toLowerCase();console.log("check tag",e),this.selectOptions.groups.push(e),this.$set(this.input,"group",t.toLowerCase())},save:function(){var t=this;console.log("check input",t.input),t.$emit("SAVE",t.input)},cancel:function(){this.$emit("CANCEL")},checkCode:function(){var t=this;t.$bvModal.msgBoxConfirm('Maaf kode "bomboloni-01" sudah ada, apa ingin menyalin data katalog yang sudah ada?',{title:"Informasi",size:"md",buttonSize:"sm",okVariant:"primary",okTitle:"Salin Data Katalog",cancelTitle:"Batal",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){e&&(t.input={code:"bomboloni",name:"bomboloni-matcha",description:"bomboloni-matcha",group:"food",price:9e3,sellable_stock:{setting:"unlimited",qty:0},is_active:"1"})}))},setInput:function(){var t=this;t.defaultInput&&(t.input=t.defaultInput,t.input.sellable_stock={setting:null,qty:0},t.is_active="1")}}},S=l(37);function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(object);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,l)}return e}function G(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P={components:{formBasic:Object(S.a)(k,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("b-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[l("div",{staticClass:"row mb-2"},[l("div",{staticClass:"col-12 col-sm-3"},[l("label",{staticClass:"col-form-label"},[t._v(t._s(t.labelPage.field.code[t.lang]))])]),t._v(" "),l("div",{staticClass:"col-12 col-sm-4"},[l("div",{staticClass:"input-group bg-white"},[l("b-form-input",{attrs:{variant:"",placeholder:t.labelPage.field.code[t.lang]},model:{value:t.input.code,callback:function(e){t.$set(t.input,"code",e)},expression:"input.code"}}),t._v(" "),l("div",{staticClass:"input-group-append"},[l("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.checkCode()}}},[t._v("\n              "+t._s(t.labelPage.action.check[t.lang])+"\n            ")])],1)],1)])]),t._v(" "),l("div",{staticClass:"row mb-2"},[l("div",{staticClass:"col-12 col-sm-3"},[l("label",{staticClass:"col-form-label"},[t._v(t._s(t.labelPage.field.name[t.lang]))])]),t._v(" "),l("div",{staticClass:"col-12 col-sm-5"},[l("b-form-input",{attrs:{placeholder:t.labelPage.field.name[t.lang]},model:{value:t.input.name,callback:function(e){t.$set(t.input,"name",e)},expression:"input.name"}})],1)]),t._v(" "),l("div",{staticClass:"row mb-2"},[l("div",{staticClass:"col-3"},[l("label",{staticClass:"col-form-label"},[t._v(t._s(t.labelPage.field.description[t.lang]))])]),t._v(" "),l("div",{staticClass:"col-12 col-sm-5"},[l("b-form-textarea",{attrs:{placeholder:t.labelPage.field.description[t.lang],rows:"2","max-rows":"3","no-resize":""},model:{value:t.input.description,callback:function(e){t.$set(t.input,"description",e)},expression:"input.description"}})],1)]),t._v(" "),l("div",{staticClass:"row mb-2"},[l("div",{staticClass:"col-3"},[l("label",{staticClass:"col-form-label"},[t._v(t._s(t.labelPage.field.group[t.lang]))])]),t._v(" "),l("div",{staticClass:"col-6 col-sm-3"},[l("multiselect",{attrs:{options:t.selectOptions.groups,searchable:!0,"close-on-select":!0,"show-labels":!1,taggable:!0,placeholder:t.labelPage.field.group[t.lang]},on:{tag:t.addTag},model:{value:t.input.group,callback:function(e){t.$set(t.input,"group",e)},expression:"input.group"}})],1)]),t._v(" "),l("div",{staticClass:"row mb-2"},[l("div",{staticClass:"col-3"},[l("label",{staticClass:"col-form-label"},[t._v(t._s(t.labelPage.field.price[t.lang]))])]),t._v(" "),l("div",{staticClass:"col-12 col-sm-3"},[l("b-form-input",{attrs:{type:"number",min:"0",placeholder:"0"},model:{value:t.input.price,callback:function(e){t.$set(t.input,"price",e)},expression:"input.price"}})],1)]),t._v(" "),l("div",{staticClass:"row mb-2"},[l("div",{staticClass:"col-3"},[l("label",{staticClass:"col-form-label"},[t._v(t._s(t.labelPage.field.sellable_stock[t.lang]))])]),t._v(" "),l("div",{staticClass:"col-3"},[l("multiselect",{attrs:{options:t.selectOptions.sellable,"close-on-select":!0,placeholder:t.labelPage.field.sellable_stock[t.lang]},model:{value:t.input.sellable_stock.setting,callback:function(e){t.$set(t.input.sellable_stock,"setting",e)},expression:"input.sellable_stock.setting"}})],1)]),t._v(" "),t.input.sellable_stock.setting===Object.keys(t.status.sellable_stock)[0]?l("div",{staticClass:"row mb-2"},[l("div",{staticClass:"col-3"},[l("label",{staticClass:"col-form-label"},[t._v(t._s(t.labelPage.field.set_sellable_stock[t.lang]))])]),t._v(" "),l("div",{staticClass:"col-12 col-sm-3"},[l("b-form-input",{attrs:{type:"number",min:"0",placeholder:"0"},model:{value:t.input.sellable_stock.qty,callback:function(e){t.$set(t.input.sellable_stock,"qty",e)},expression:"input.sellable_stock.qty"}})],1)]):t._e(),t._v(" "),l("div",{staticClass:"row mb-2 align-items-center"},[l("div",{staticClass:"col-3"},[l("label",{staticClass:"col-form-label"},[t._v(t._s(t.labelPage.field.active[t.lang]))])]),t._v(" "),l("div",{staticClass:"col-12 col-sm-3"},[l("b-form-checkbox",{attrs:{value:"1","unchecked-value":"0",switch:""},model:{value:t.input.is_active,callback:function(e){t.$set(t.input,"is_active",e)},expression:"input.is_active"}})],1)]),t._v(" "),t.withoutAction?t._e():l("div",{staticClass:"row border-top pt-3"},[l("div",{staticClass:"col"},[l("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"sm"},on:{click:function(e){return t.save()}}},[t._v("\n          "+t._s(void 0!==t.defaultInput.id?t.labelPage.action.update[t.lang]:t.labelPage.action.save[t.lang])+"\n        ")]),t._v(" "),l("b-button",{staticClass:"float-right mr-2",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.cancel()}}},[t._v("\n          "+t._s(t.labelPage.action.cancel[t.lang])+"\n        ")])],1)])])],1)}),[],!1,null,null,null).exports,compBottomMenu:C.default,compBottomMenuContentForm:w.default,compSection:section.default,compSectionInitialize:v.default,compSectionContentVarian:f.a,compSectionContentAddon:h.a,compSectionContentGalleryGlobal:_.default,compSectionContentGalleryVarian:y.default},beforeRouteLeave:function(t,e,l){l()},layout:"dashboard",data:function(){return{lang:this.$store.getters["app/getLanguage"],gvm:this,isLoading:!1,isGaleri:!1,isStep1:!1,isStep2:!1,tableVarian:["code","name","sellabel","price","action"],tableAddons:["code","name","price","action"],isVarian:!1,isAddon:!1,isGallery:!1,isGalleryVarian:!1,input:{sellable_stock:null,group:null,is_active:"1"},selectOptions:{groups:["chocolate","coffee","extra","food","seasonal","tea"],sellable:["manual","unlimited"]},varians:[],addons:[],galeri:[],galeriVarian:[],modalComponent:{title:null,size:null,component:null,type:null,defaultInput:null,key:0},vmCatalogFetch:m,labelPage:l(303).catalog.create,labelGeneral:l(150),labelComponent:l(311),filterStructure:l(315).catalog,dropMenu:l(302).catalog,status:l(314),functionCart:new c.a}},computed:{},watch:{isVarian:function(t){void 0!==t&&(this.isStep1=!0)}},mounted:function(){this.init()},methods:G(G({},o.a),{},{init:function(){},addTag:function(t){var e=t.toLowerCase();this.selectOptions.groups.push(e),this.$set(this.input,"group",t.toLowerCase())},handleDataBasic:function(param){this.input.code=param.code,this.input.name=param.name,this.input.description=param.description,this.input.group=param.group,this.input.price=param.price,this.input.sellable_stock=param.sellable_stock,this.input.is_active=param.is_active},handleDataVarian:function(){console.log("yes handle varian"),this.varians=this.$store.getters["temp/getData"]("varian")},handleDataAddon:function(){console.log("yes handle addon"),this.addons=this.$store.getters["temp/getData"]("addon")},handleDataGallery:function(){console.log("yes handle gallery"),this.gallery=this.$store.getters["temp/getData"]("gallery")},handleDataGalleryVarian:function(){console.log("yes handle gallery varian"),this.galleryVarian=this.$store.getters["temp/getData"]("gallery_varian")},handleSubmit:function(){var t=this,input={code:t.input.code,name:t.input.name,description:t.input.description,group:t.input.group,price:t.input.price,sellable_stock:t.input.sellable_stock,is_active:t.input.is_active,has_varian:t.isVarian,has_addon:t.isAddon,has_gallery:t.isGallery};t.isVarian&&(input.varians=t.varians),t.isAddon&&(input.addons=t.isAddon),t.isGallery&&(t.isGalleryVarian?(input.gallery_setting="varian",input.galleries=t.galleryVarian):(input.gallery_setting="global",input.galleries=t.gallery)),console.log("check input",input),t.vmCatalogFetch.request({token:t.$store.state.uac.token,params:input}).then((function(e){t.isLoading=!1,e&&e.status&&t.navigateTo(t,"/dashboard/catalog",!1),console.log("data:",e)})).catch((function(e){t.isLoading=!1,console.error(e),t.$store.commit("alert/setAlert",{type:"fail",msg:e[t.lang]?e[t.lang]:e})}))},handleCancel:function(){this.navigateTo(this,"/dashboard/catalog",!1)}})},V=Object(S.a)(P,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("div",{staticClass:"row mx-0 mb-5 pb-4"},[l("div",{staticClass:"col px-3"},[l("div",{staticClass:"row py-2 mt-4 mb-3"},[l("div",{staticClass:"col"},[l("p",{staticClass:"title mb-0"},[t._v("\n            "+t._s(t.labelPage.title[t.lang])+"\n          ")]),t._v(" "),t._m(0)])]),t._v(" "),l("formBasic",{ref:"formBasic",attrs:{"without-action":""},on:{updated:t.handleDataBasic}}),t._v(" "),l("compSection",{ref:"comp-section-varian"},[l("compSectionInitialize",{ref:"comp-section-init-varian",attrs:{type:"varian",data:t.labelComponent.varian.section.initialize.varian,"is-selected":t.isVarian},on:{click:function(e){t.isVarian=e}}}),t._v(" "),l("compSectionContentVarian",{directives:[{name:"show",rawName:"v-show",value:t.isVarian,expression:"isVarian"}],ref:"comp-section-varian",on:{updated:t.handleDataVarian}}),t._v(" "),l("hr",{directives:[{name:"show",rawName:"v-show",value:t.isVarian,expression:"isVarian"}]})],1),t._v(" "),l("compSection",{ref:"comp-section-addon"},[l("compSectionInitialize",{ref:"comp-section-init-addon",attrs:{type:"addon",data:t.labelComponent.addon.section.initialize.addon,"is-selected":t.isAddon},on:{click:function(e){t.isAddon=e}}}),t._v(" "),l("compSectionContentAddon",{directives:[{name:"show",rawName:"v-show",value:t.isAddon,expression:"isAddon"}],ref:"comp-section-addon",on:{updated:t.handleDataAddon}}),t._v(" "),l("hr",{directives:[{name:"show",rawName:"v-show",value:t.isAddon,expression:"isAddon"}]})],1),t._v(" "),l("compSection",{ref:"comp-section-gallery"},[l("compSectionInitialize",{ref:"comp-section-init-gallery",attrs:{type:"gallery",data:t.labelComponent.galleries.section.initialize.galleries,checked:t.isGallery},on:{click:function(e){t.isGallery=e}}}),t._v(" "),l("compSectionInitialize",{directives:[{name:"show",rawName:"v-show",value:t.isGallery,expression:"isGallery"}],ref:"comp-section-init-gallery-varian",attrs:{type:"galleryVarian",data:t.labelComponent.galleries.section.initialize.varian,checked:t.isGalleryVarian},on:{click:function(e){t.isGalleryVarian=e}}}),t._v(" "),l("compSectionContentGalleryGlobal",{directives:[{name:"show",rawName:"v-show",value:t.isGallery&&t.isGalleryVarian,expression:"isGallery && isGalleryVarian"}],ref:"comp-section-gallery-global",on:{updated:t.handleDataGallery}}),t._v(" "),l("compSectionContentGalleryVarian",{directives:[{name:"show",rawName:"v-show",value:t.isGallery&&!t.isGalleryVarian,expression:"isGallery && !isGalleryVarian"}],ref:"comp-section-gallery-varian",attrs:{varians:t.varians},on:{updated:t.handleDataGalleryVarian}})],1)],1)]),t._v(" "),l("compBottomMenu",{attrs:{size:"large"}},[l("compBottomMenuContentForm",{scopedSlots:t._u([{key:"action",fn:function(){return[l("button",{staticClass:"btn btn-outline-primary btn-sm mr-2",attrs:{type:"button",disabled:t.isLoading},on:{click:t.handleCancel}},[t._v("\n          "+t._s(t.labelPage.action.cancel[t.lang])+"\n        ")]),t._v(" "),l("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",disabled:t.isLoading},on:{click:t.handleSubmit}},[t._v("\n          "+t._s(t.labelPage.action.save[t.lang])+"\n        ")])]},proxy:!0}])})],1),t._v(" "),l("b-modal",{ref:"modalFormComponent",attrs:{title:t.modalComponent.title,size:t.modalComponent.size,"hide-footer":""}},[t.modalComponent.component&&t.modalComponent.key>0?l(t.modalComponent.component,{tag:"component",attrs:{"default-input":t.modalComponent.defaultInput},on:{SAVE:function(param){t.save(t.modalComponent.type,param)},CANCEL:function(e){return t.cancel(t.modalComponent.type)}}}):t._e()],1)],1)}),[function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("ol",{staticClass:"breadcrumb"},[l("li",{staticClass:"breadcrumb-item"},[l("a",{staticClass:"text-hover",attrs:{href:"#"}},[l("span",[t._v("Beranda")])])]),t._v(" "),l("li",{staticClass:"breadcrumb-item"},[l("a",{staticClass:"text-hover",attrs:{href:"#"}},[l("span",[t._v("Katalog")])])]),t._v(" "),l("li",{staticClass:"breadcrumb-item"},[l("a",{staticClass:"active",attrs:{href:"#"}},[l("span",[t._v("Tambah Katalog")])])])])}],!1,null,"154245ce",null);e.default=V.exports}}]);