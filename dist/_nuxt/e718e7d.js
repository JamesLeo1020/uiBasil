(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{313:function(t,n,e){"use strict";e(10);var o=e(64),c=e(92);n.a={perPage:o.perpage,totalData:0,totalPage:0,filters:{},sorts:{},cancelToken:null,request:function(t){var n=this;return c.a.get({api:"".concat(o.url).concat(o.endpoints.catalog_list),token:t.token,params:t.params},(function(dt,t){n.filters=JSON.parse(JSON.stringify(dt.data.data.filters)),n.totalData=dt.data.data.stats.data_count,n.totalPage=Math.ceil(dt.data.data.stats.data_count/n.perPage),dt.data.data=dt.data.data.datas}))},cancel:function(){}}},342:function(t,n,e){"use strict";e.r(n);e(19);var o=e(313),c=e(303),l={props:{defaultInput:{type:Object,default:function(){return{}}},id:{type:String,default:null},data:{type:Object,default:function(){return{}}}},data:function(){return{lang:this.$store.getters["app/getLanguage"],isGlobalPrice:!1,gvm:this,input:{code:null},selectOptions:{product:[]},catalogDatas:[],catalogIsLoading:!1,catalogIsError:!1,catalogIsEmpty:!1,appLabel:c.catalog.create.addons.create}},watch:{defaultInput:function(t,n){n&&this.setInput()}},mounted:function(){this.init(),console.log("check default input",this.defaultInput)},methods:{init:function(){this.fetchcatalog(),this.setInput()},fetchcatalog:function(){if(!this.catalogIsLoading){this.catalogIsLoading=!0,this.catalogIsError=!1,this.catalogIsEmpty=!1;var t=this;o.a.request().then((function(n){n.datas&&n.datas.length>0?(t.catalogDatas=n.datas,t.selectOptions.product=n.datas):t.catalogIsEmpty=!0,t.catalogIsLoading=!1,console.log("check catalog datas",n)})).catch((function(n){t.catalogIsLoading=!1,t.catalogIsError=!0,console.error(n)}))}},save:function(){var t=this;console.log("check input",t.input),t.input.product&&(t.input.code=t.input.product.code,t.input.name=t.input.product.name),t.$emit("SAVE",t.input)},cancel:function(){this.$emit("CANCEL")},onCheck:function(){},setInput:function(){var t=this;t.defaultInput&&(t.input=t.defaultInput)}}},r=e(37),component=Object(r.a)(l,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("b-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"col-4"},[e("label",{staticClass:"col-form-label"},[t._v(t._s(t.appLabel.field.product[t.lang]))])]),t._v(" "),e("div",{staticClass:"col-8"},[e("multiselect",{attrs:{options:t.selectOptions.product,"close-on-select":!0,placeholder:t.appLabel.field.product[t.lang],label:"name","track-by":"name","allow-empty":!0},scopedSlots:t._u([{key:"option",fn:function(n){return[e("span",[t._v(t._s(n.option.name))]),t._v(" "),e("span",[t._v(" - ")]),t._v(" "),e("span",[t._v(t._s(n.option.code))])]}}]),model:{value:t.input.product,callback:function(n){t.$set(t.input,"product",n)},expression:"input.product"}})],1)]),t._v(" "),e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"col-4"},[e("label",{staticClass:"col-form-label"},[t._v(t._s(t.appLabel.field.price[t.lang]))])]),t._v(" "),e("div",{staticClass:"col-6"},[e("b-form-input",{attrs:{type:"number",min:"0",placeholder:"0"},model:{value:t.input.price,callback:function(n){t.$set(t.input,"price",n)},expression:"input.price"}})],1)]),t._v(" "),e("div",{staticClass:"row border-top pt-3"},[e("div",{staticClass:"col"},[e("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"sm"},on:{click:function(n){return t.save()}}},[t._v("\n          "+t._s(t.defaultInput&&t.defaultInput.id&&void 0!==t.defaultInput.id?t.appLabel.action.update[t.lang]:t.appLabel.action.save[t.lang])+"\n        ")]),t._v(" "),e("b-button",{staticClass:"float-right mr-2",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(n){return t.cancel()}}},[t._v("\n          "+t._s(t.appLabel.action.cancel[t.lang])+"\n        ")])],1)])])],1)}),[],!1,null,null,null);n.default=component.exports}}]);